# ========================================
# グローバル設定
# ========================================

[env]
_.file = [".env"]
_.path = ["./node_modules/.bin"]

# ========================================
# ツール
# ========================================

[tools]
node = "24"
"npm:pnpm" = "10.25.0"

# ========================================
# コマンド（ショートカット）
# ========================================

[tasks.format]
description = "Ultracite(Biome)でソース全体を整形"
run = "pnpm run format"

[tasks."lint:types"]
description = "TypeScriptの型チェックのみ"
run = "pnpm exec tsc --noEmit"

[tasks."lint:ultracite"]
description = "Ultracite(Biome)のチェックのみ"
run = "pnpm run lint"

[tasks.test]
description = "Vitestでユニットテストを実行"
run = "pnpm run test"

[tasks.lint]
description = "型チェックとフォーマット検証を実行"
depends = ["lint:types", "lint:ultracite"]

[tasks.build]
description = "TypeScriptをビルド"
run = "pnpm run build"

[tasks.clean]
description = "ビルド成果物を削除"
run = "pnpm run clean"

# ========================================
# エイリアス（まとめ実行）
# ========================================

[tasks.ci]
description = "CI 相当のチェック (lint + build)"
depends = ["format", "lint", "test", "build"]
run = "echo '✅ CI checks completed'"
